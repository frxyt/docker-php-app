#!/bin/bash

# Copyright (c) 2019 FEROX YT EIRL, www.ferox.yt <devops@ferox.yt>
# Copyright (c) 2019 Jérémy WALTHER <jeremy.walther@golflima.net>
# See <https://github.com/frxyt/docker-php-app> for details.

apk add --no-cache tzdata

if [[ -f "/usr/share/zoneinfo/$1" ]]; then
    cp /usr/share/zoneinfo/$1 /etc/localtime
    echo "Europe/Brussels" >  /etc/timezone
    date
else
    echo "Error: $1 is not a valid TZ data!"
    echo "Available TZ data:"
    ls -1 /usr/share/zoneinfo
    exit 1;
fi

apk del tzdata